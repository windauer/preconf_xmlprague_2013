<?xml version="1.0" encoding="UTF-8"?>
<div xmlns:xf="http://www.w3.org/2002/xforms" class="templates:surround?with=templates/xforms.xhtml&amp;at=content">
    <hr class="devider"/>
    <h1 class="config:app-title"/>
    <div class="xforms:expand" modelref="data/xforms/search-model.xml">
        <h2>Search the law</h2>
        <form class="search_parms" data-xf-type="group">
            <div>
                <label for="startdate">Start</label>
                <input id="startdate" data-ref="startdate" type="date" value="2005-01-10"/>
            </div>
            <div>
                <label for="enddate">End</label>
                <input id="enddate" data-ref="enddate" type="date" value="2012-01-01"/>
            </div>
            <div>
                <label for="sortAscending">Ascending</label>
                <input id="sortAscending" data-ref="sortAscending" type="checkbox" value="true"/>
            </div>
            <div>
                <xf:repeat nodeset="instance('i-years')/codes[@year=instance()/startyear]/code" appearance="compact">
                    <xf:output ref="@date">
                        <xf:label>Date</xf:label>
                    </xf:output>
                    <xf:output ref="@title">
                        <xf:label>Title</xf:label>
                    </xf:output>
                    <xf:output ref=".">
                        <xf:label>Title</xf:label>
                    </xf:output>
                </xf:repeat>
            </div>
            <div>
                <label for="term">Search Term</label>
                <input id="term" data-ref="term" placeholder="Enter search term"/>
            </div>
            <div>
                <button data-submission="s-call-xquery">Call XQuery Subssmion</button>
                <button data-submission="s-call-html">Call HTML Submission</button>
                <xf:trigger>
                    <xf:label>Embed XQ / HTML f</xf:label>
                    <xf:load show="embed" targetid="searchResultMount">
                        <xf:resource value="concat('searchResult.html?query=',instance()/term)"/>
                    </xf:load>
                    <!--xf:send submission="s-execute-query"/-->
                </xf:trigger>
            </div>
        </form>
        <div id="searchResultMount"/>
    </div>
</div>